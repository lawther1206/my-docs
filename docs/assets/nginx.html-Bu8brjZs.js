import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as t,b as n,d as s,o as l}from"./app-cQLVBdqJ.js";const r={};function o(p,e){return l(),a("div",null,[e[0]||(e[0]=t("h1",{id:"❓项目部署问题",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#❓项目部署问题"},[t("span",null,"❓项目部署问题")])],-1)),n(" more "),e[1]||(e[1]=s('<h2 id="nginx配置问题" tabindex="-1"><a class="header-anchor" href="#nginx配置问题"><span>Nginx配置问题</span></a></h2><ol><li>Nuxt项目默认监听3000端口,但是服务器默认的是80端口，在Nginx中配置<br> location / 让默认的路由全部转发到服务器的3000端口上</li><li>后端服务我使用的是Express,后端的端口是3005,nginx中需要配置<br> location /api/ 将全部的api接口转发到3005端口上</li><li>静态资源例如/img使用了alias关键字而不是<s>root</s>，区别在于alias是替换，root是拼接</li></ol><h2 id="pm2进程管理问题" tabindex="-1"><a class="header-anchor" href="#pm2进程管理问题"><span>pm2进程管理问题</span></a></h2><p>Nuxt3打包以后生成.output文件，上传到服务器后在.output/server路径下下执行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pm2 start index.mjs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Express服务使用pm2守护进程执行的命令不是 pm2 start app.js 正确的是</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> pm2 start ./bin/www</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="文件管理问题" tabindex="-1"><a class="header-anchor" href="#文件管理问题"><span>文件管理问题</span></a></h2><p>服务器上传的时候最好不要上传node_modules文件，上传完以后再安装</p><h2 id="nuxt项目问题" tabindex="-1"><a class="header-anchor" href="#nuxt项目问题"><span>Nuxt项目问题</span></a></h2><p>使用接口获取的url在el-image标签无法展示，原生img可以，查阅以后应该是el-image会产生跨域，img不会</p>',11))])}const h=i(r,[["render",o],["__file","nginx.html.vue"]]),m=JSON.parse('{"path":"/posts/nginx.html","title":"❓项目部署问题","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-05-10T00:00:00.000Z","category":["工程化"],"tag":["一般"],"head":[["meta",{"property":"og:url","content":"https://github.com/lawther1206/my-docs/posts/nginx.html"}],["meta",{"property":"og:title","content":"❓项目部署问题"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-17T08:43:41.000Z"}],["meta",{"property":"article:tag","content":"一般"}],["meta",{"property":"article:published_time","content":"2024-05-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-17T08:43:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"❓项目部署问题\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-10T00:00:00.000Z\\",\\"dateModified\\":\\"2025-02-17T08:43:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"leeyng\\",\\"url\\":\\"\\"}]}"]]},"headers":[{"level":2,"title":"Nginx配置问题","slug":"nginx配置问题","link":"#nginx配置问题","children":[]},{"level":2,"title":"pm2进程管理问题","slug":"pm2进程管理问题","link":"#pm2进程管理问题","children":[]},{"level":2,"title":"文件管理问题","slug":"文件管理问题","link":"#文件管理问题","children":[]},{"level":2,"title":"Nuxt项目问题","slug":"nuxt项目问题","link":"#nuxt项目问题","children":[]}],"git":{"createdTime":1739781821000,"updatedTime":1739781821000,"contributors":[{"name":"liyong","username":"liyong","email":"1074681225@qq.com","commits":1,"url":"https://github.com/liyong"}]},"readingTime":{"minutes":0.95,"words":284},"filePathRelative":"posts/nginx.md","localizedDate":"2024年5月10日","excerpt":"\\n"}');export{h as comp,m as data};
